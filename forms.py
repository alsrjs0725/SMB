# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'forms\main.ui'
#
# Created by: PyQt5 UI code generator 5.15.4
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets
import os, sys


def resource_path(relative_path):
    try:
        base_path = sys._MEIPASS
    except Exception:
        base_path = os.path.abspath(".")

    return os.path.join(base_path, relative_path)


class Ui_MainWindow(object):
    def setupUi(self, MainWindow):
        MainWindow.setObjectName("MainWindow")
        MainWindow.resize(885, 585)
        self.centralwidget = QtWidgets.QWidget(MainWindow)
        self.centralwidget.setObjectName("centralwidget")
        self.toggleRecordBtn = QtWidgets.QPushButton(self.centralwidget)
        self.toggleRecordBtn.setGeometry(QtCore.QRect(0, 0, 121, 61))
        font = QtGui.QFont()
        font.setFamily("BM JUA_TTF")
        font.setPointSize(14)
        self.toggleRecordBtn.setFont(font)
        self.toggleRecordBtn.setObjectName("toggleRecordBtn")
        self.saveAsBMSBtn = QtWidgets.QPushButton(self.centralwidget)
        self.saveAsBMSBtn.setGeometry(QtCore.QRect(0, 180, 121, 61))
        font = QtGui.QFont()
        font.setFamily("BM JUA_TTF")
        font.setPointSize(14)
        self.saveAsBMSBtn.setFont(font)
        self.saveAsBMSBtn.setObjectName("saveAsBMSBtn")
        self.saveAsBMSBtn.setEnabled(False)
        self.saveBtn = QtWidgets.QPushButton(self.centralwidget)
        self.saveBtn.setGeometry(QtCore.QRect(0, 120, 121, 61))
        font = QtGui.QFont()
        font.setFamily("BM JUA_TTF")
        font.setPointSize(14)
        self.saveBtn.setFont(font)
        self.saveBtn.setObjectName("saveBtn")
        self.saveBtn.setEnabled(False)
        self.loadBtn = QtWidgets.QPushButton(self.centralwidget)
        self.loadBtn.setGeometry(QtCore.QRect(0, 60, 121, 61))
        font = QtGui.QFont()
        font.setFamily("BM JUA_TTF")
        font.setPointSize(14)
        self.loadBtn.setFont(font)
        self.loadBtn.setObjectName("loadBtn")
        self.BMSIMG = QtWidgets.QLabel(self.centralwidget)
        self.BMSIMG.setGeometry(QtCore.QRect(120, 0, 761, 541))
        self.BMSIMG.setText("")
        self.BMSIMG.setPixmap(QtGui.QPixmap(resource_path("./src/BMS_IMG.png")))
        self.BMSIMG.setObjectName("BMSIMG")
        self.P1S = QtWidgets.QPushButton(self.centralwidget)
        self.P1S.setGeometry(QtCore.QRect(137, 468, 93, 67))
        font = QtGui.QFont()
        font.setFamily("BM JUA_TTF")
        font.setPointSize(14)
        self.P1S.setFont(font)
        self.P1S.setText("")
        self.P1S.setFlat(False)
        self.P1S.setObjectName("16")
        self.label_3 = QtWidgets.QLabel(self.centralwidget)
        self.label_3.setGeometry(QtCore.QRect(0, 510, 121, 31))
        font = QtGui.QFont()
        font.setFamily("BM JUA_TTF")
        font.setPointSize(14)
        self.label_3.setFont(font)
        self.label_3.setTextFormat(QtCore.Qt.PlainText)
        self.label_3.setAlignment(QtCore.Qt.AlignLeading|QtCore.Qt.AlignLeft|QtCore.Qt.AlignVCenter)
        self.label_3.setObjectName("label_3")
        self.P2S = QtWidgets.QPushButton(self.centralwidget)
        self.P2S.setGeometry(QtCore.QRect(781, 468, 93, 67))
        font = QtGui.QFont()
        font.setFamily("BM JUA_TTF")
        font.setPointSize(14)
        self.P2S.setFont(font)
        self.P2S.setText("")
        self.P2S.setFlat(False)
        self.P2S.setObjectName("26")
        self.P1L1 = QtWidgets.QPushButton(self.centralwidget)
        self.P1L1.setGeometry(QtCore.QRect(234, 475, 34, 52))
        font = QtGui.QFont()
        font.setFamily("BM JUA_TTF")
        font.setPointSize(14)
        self.P1L1.setFont(font)
        self.P1L1.setText("")
        self.P1L1.setFlat(False)
        self.P1L1.setObjectName("11")
        self.P1L2 = QtWidgets.QPushButton(self.centralwidget)
        self.P1L2.setGeometry(QtCore.QRect(271, 470, 24, 51))
        font = QtGui.QFont()
        font.setFamily("BM JUA_TTF")
        font.setPointSize(14)
        self.P1L2.setFont(font)
        self.P1L2.setText("")
        self.P1L2.setFlat(False)
        self.P1L2.setObjectName("12")
        self.P1L4 = QtWidgets.QPushButton(self.centralwidget)
        self.P1L4.setGeometry(QtCore.QRect(335, 470, 24, 51))
        font = QtGui.QFont()
        font.setFamily("BM JUA_TTF")
        font.setPointSize(14)
        self.P1L4.setFont(font)
        self.P1L4.setText("")
        self.P1L4.setFlat(False)
        self.P1L4.setObjectName("14")
        self.P1L6 = QtWidgets.QPushButton(self.centralwidget)
        self.P1L6.setGeometry(QtCore.QRect(399, 470, 24, 51))
        font = QtGui.QFont()
        font.setFamily("BM JUA_TTF")
        font.setPointSize(14)
        self.P1L6.setFont(font)
        self.P1L6.setText("")
        self.P1L6.setFlat(False)
        self.P1L6.setObjectName("18")
        self.P2L2 = QtWidgets.QPushButton(self.centralwidget)
        self.P2L2.setGeometry(QtCore.QRect(589, 470, 24, 51))
        font = QtGui.QFont()
        font.setFamily("BM JUA_TTF")
        font.setPointSize(14)
        self.P2L2.setFont(font)
        self.P2L2.setText("")
        self.P2L2.setFlat(False)
        self.P2L2.setObjectName("22")
        self.P2L4 = QtWidgets.QPushButton(self.centralwidget)
        self.P2L4.setGeometry(QtCore.QRect(653, 470, 24, 51))
        font = QtGui.QFont()
        font.setFamily("BM JUA_TTF")
        font.setPointSize(14)
        self.P2L4.setFont(font)
        self.P2L4.setText("")
        self.P2L4.setFlat(False)
        self.P2L4.setObjectName("24")
        self.P2L6 = QtWidgets.QPushButton(self.centralwidget)
        self.P2L6.setGeometry(QtCore.QRect(717, 470, 24, 51))
        font = QtGui.QFont()
        font.setFamily("BM JUA_TTF")
        font.setPointSize(14)
        self.P2L6.setFont(font)
        self.P2L6.setText("")
        self.P2L6.setFlat(False)
        self.P2L6.setObjectName("28")
        self.P1L3 = QtWidgets.QPushButton(self.centralwidget)
        self.P1L3.setGeometry(QtCore.QRect(298, 475, 34, 52))
        font = QtGui.QFont()
        font.setFamily("BM JUA_TTF")
        font.setPointSize(14)
        self.P1L3.setFont(font)
        self.P1L3.setText("")
        self.P1L3.setFlat(False)
        self.P1L3.setObjectName("13")
        self.P1L5 = QtWidgets.QPushButton(self.centralwidget)
        self.P1L5.setGeometry(QtCore.QRect(362, 475, 34, 52))
        font = QtGui.QFont()
        font.setFamily("BM JUA_TTF")
        font.setPointSize(14)
        self.P1L5.setFont(font)
        self.P1L5.setText("")
        self.P1L5.setFlat(False)
        self.P1L5.setObjectName("15")
        self.P1L7 = QtWidgets.QPushButton(self.centralwidget)
        self.P1L7.setGeometry(QtCore.QRect(426, 475, 34, 52))
        font = QtGui.QFont()
        font.setFamily("BM JUA_TTF")
        font.setPointSize(14)
        self.P1L7.setFont(font)
        self.P1L7.setText("")
        self.P1L7.setFlat(False)
        self.P1L7.setObjectName("19")
        self.P2L1 = QtWidgets.QPushButton(self.centralwidget)
        self.P2L1.setGeometry(QtCore.QRect(552, 475, 34, 52))
        font = QtGui.QFont()
        font.setFamily("BM JUA_TTF")
        font.setPointSize(14)
        self.P2L1.setFont(font)
        self.P2L1.setText("")
        self.P2L1.setFlat(False)
        self.P2L1.setObjectName("21")
        self.P2L3 = QtWidgets.QPushButton(self.centralwidget)
        self.P2L3.setGeometry(QtCore.QRect(616, 475, 34, 52))
        font = QtGui.QFont()
        font.setFamily("BM JUA_TTF")
        font.setPointSize(14)
        self.P2L3.setFont(font)
        self.P2L3.setText("")
        self.P2L3.setFlat(False)
        self.P2L3.setObjectName("23")
        self.P2L5 = QtWidgets.QPushButton(self.centralwidget)
        self.P2L5.setGeometry(QtCore.QRect(680, 475, 34, 52))
        font = QtGui.QFont()
        font.setFamily("BM JUA_TTF")
        font.setPointSize(14)
        self.P2L5.setFont(font)
        self.P2L5.setText("")
        self.P2L5.setFlat(False)
        self.P2L5.setObjectName("25")
        self.P2L7 = QtWidgets.QPushButton(self.centralwidget)
        self.P2L7.setGeometry(QtCore.QRect(744, 475, 34, 52))
        font = QtGui.QFont()
        font.setFamily("BM JUA_TTF")
        font.setPointSize(14)
        self.P2L7.setFont(font)
        self.P2L7.setText("")
        self.P2L7.setFlat(False)
        self.P2L7.setObjectName("29")
        MainWindow.setCentralWidget(self.centralwidget)
        self.menubar = QtWidgets.QMenuBar(MainWindow)
        self.menubar.setGeometry(QtCore.QRect(0, 0, 885, 21))
        self.menubar.setObjectName("menubar")
        MainWindow.setMenuBar(self.menubar)
        self.statusbar = QtWidgets.QStatusBar(MainWindow)
        self.statusbar.setObjectName("statusbar")
        MainWindow.setStatusBar(self.statusbar)

        self.retranslateUi(MainWindow)
        self.toggleRecordBtn.clicked.connect(MainWindow.toggleRecord)
        self.loadBtn.clicked.connect(MainWindow.load)
        self.saveBtn.clicked.connect(MainWindow.save)
        self.saveAsBMSBtn.clicked.connect(MainWindow.saveAsBMS)
        self.P1S.clicked.connect(lambda: MainWindow.keyMapping(self.P1S))
        self.P1L1.clicked.connect(lambda: MainWindow.keyMapping(self.P1L1))
        self.P1L2.clicked.connect(lambda: MainWindow.keyMapping(self.P1L2))
        self.P1L3.clicked.connect(lambda: MainWindow.keyMapping(self.P1L3))
        self.P1L4.clicked.connect(lambda: MainWindow.keyMapping(self.P1L4))
        self.P1L5.clicked.connect(lambda: MainWindow.keyMapping(self.P1L5))
        self.P1L6.clicked.connect(lambda: MainWindow.keyMapping(self.P1L6))
        self.P1L7.clicked.connect(lambda: MainWindow.keyMapping(self.P1L7))
        self.P2L1.clicked.connect(lambda: MainWindow.keyMapping(self.P2L1))
        self.P2L2.clicked.connect(lambda: MainWindow.keyMapping(self.P2L2))
        self.P2L3.clicked.connect(lambda: MainWindow.keyMapping(self.P2L3))
        self.P2L4.clicked.connect(lambda: MainWindow.keyMapping(self.P2L4))
        self.P2L5.clicked.connect(lambda: MainWindow.keyMapping(self.P2L5))
        self.P2L6.clicked.connect(lambda: MainWindow.keyMapping(self.P2L6))
        self.P2L7.clicked.connect(lambda: MainWindow.keyMapping(self.P2L7))
        self.P2S.clicked.connect(lambda: MainWindow.keyMapping(self.P2S))
        QtCore.QMetaObject.connectSlotsByName(MainWindow)

    def retranslateUi(self, MainWindow):
        _translate = QtCore.QCoreApplication.translate
        MainWindow.setWindowTitle(_translate("MainWindow", "MainWindow"))
        self.toggleRecordBtn.setText(_translate("MainWindow", "녹화 시작"))
        self.saveAsBMSBtn.setText(_translate("MainWindow", "BMS로 저장"))
        self.saveBtn.setText(_translate("MainWindow", "저장"))
        self.loadBtn.setText(_translate("MainWindow", "불러오기"))
        self.label_3.setText(_translate("MainWindow", "SMB v1.0"))

class KeyMappingWindow(QtWidgets.QWidget):
    def __init__(self, *args, **kwargs):
        self.MainWindow = kwargs['MainWindow']
        kwargs.pop('MainWindow')
        super().__init__(*args, **kwargs)
        self.resize(250, 90)
        
        self.label = QtWidgets.QLabel(self)
        self.label.setGeometry(QtCore.QRect(0, 0, 250, 30))
        font = QtGui.QFont()
        font.setFamily("BM JUA_TTF")
        font.setPointSize(14)
        self.label.setFont(font)
        self.label.setTextFormat(QtCore.Qt.PlainText)
        self.label.setAlignment(QtCore.Qt.AlignLeading|QtCore.Qt.AlignCenter|QtCore.Qt.AlignVCenter)
        self.label.setObjectName("label")
        self.closeBtn = QtWidgets.QPushButton(self)
        self.closeBtn.setGeometry(QtCore.QRect(0, 30, 125, 60))
        font = QtGui.QFont()
        font.setFamily("BM JUA_TTF")
        font.setPointSize(14)
        self.closeBtn.setFont(font)
        self.closeBtn.setObjectName("closeBtn")
        self.clearBtn = QtWidgets.QPushButton(self)
        self.clearBtn.setGeometry(QtCore.QRect(125, 30, 125, 60))
        font = QtGui.QFont()
        font.setFamily("BM JUA_TTF")
        font.setPointSize(14)
        self.clearBtn.setFont(font)
        self.clearBtn.setObjectName("clearBtn")
        
        self.closeBtn.clicked.connect(self.hide)
        self.clearBtn.clicked.connect(self.clear)
        
        _translate = QtCore.QCoreApplication.translate
        self.label.setText(_translate("KeyMappingWindow", "지정하고 싶은 키를 입력하세요"))
        self.closeBtn.setText(_translate("KeyMappingWindow", "키 지정 취소"))
        self.clearBtn.setText(_translate("KeyMappingWindow", "지정된 키 삭제"))
    
    def clear(self):
        btn = self.MainWindow.curselection
        btn.setText('')
        self.MainWindow.keymapping[btn.objectName] = None
        self.MainWindow.curselection = None
        self.hide()
    
    def closeEvent(self, a0: QtGui.QCloseEvent) -> None:
        self.MainWindow.curselection = None
        self.hide()
        a0.ignore()
        